(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{3052:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3248:function(e,t,r){var s;let a;"undefined"!=typeof self&&self,a=r(2115),e.exports=(()=>{"use strict";var e={155:e=>{e.exports=a}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};r.r(s),r.d(s,{useStopwatch:()=>u,useTime:()=>d,useTimer:()=>c});var n=r(155);class i{static getTimeFromMilliseconds(e,t=!0){let r=t?Math.ceil(e/1e3):Math.floor(e/1e3),s=Math.floor(r/86400),a=Math.floor(r%86400/3600),n=Math.floor(r%3600/60),i=Math.floor(r%60);return{totalMilliseconds:e,totalSeconds:r,milliseconds:Math.floor(e%1e3),seconds:i,minutes:n,hours:a,days:s}}static getMillisecondsFromExpiry(e){let t=(new Date).getTime(),r=(null==e?void 0:e.getTime())-t;return r>0?r:0}static getMillisecondsFromPrevTime(e){let t=(new Date).getTime()-e;return t>0?t:0}static getMillisecondsFromTimeNow(){let e=new Date;return e.getTime()-60*e.getTimezoneOffset()*1e3}static getFormattedTimeFromMilliseconds(e,t){let{milliseconds:r,seconds:s,minutes:a,hours:n}=i.getTimeFromMilliseconds(e),o="",l=n;return"12-hour"===t&&(o=n>=12?"pm":"am",l=n%12),{milliseconds:r,seconds:s,minutes:a,hours:l,ampm:o}}}class o{static expiryTimestamp(e){let t=new Date(e).getTime()>0;return t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}static onExpire(e){let t=e&&"function"==typeof e;return e&&!t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}function l(e,t){let r=(0,n.useRef)(e);(0,n.useEffect)(()=>{r.current=e}),(0,n.useEffect)(()=>{if(!t)return()=>{};let e=setInterval(()=>{var e;null===(e=null==r?void 0:r.current)||void 0===e||e.call(r)},t);return()=>clearInterval(e)},[t])}function c({expiryTimestamp:e,onExpire:t=()=>{},autoStart:r=!0,interval:s=1e3}){let[a,c]=(0,n.useState)(e),[u,d]=(0,n.useState)(i.getMillisecondsFromExpiry(a)),[m,f]=(0,n.useState)(r),[p,g]=(0,n.useState)(r),[h,v]=(0,n.useState)(s),b=(0,n.useCallback)(()=>{o.onExpire(t)&&t(),f(!1),v(null)},[t]),S=(0,n.useCallback)(()=>{f(!1)},[]),w=(0,n.useCallback)((e,t=!0)=>{v(s),g(t),f(t),c(e),d(i.getMillisecondsFromExpiry(e))},[s]),y=(0,n.useCallback)(()=>{let e=new Date;e.setMilliseconds(e.getMilliseconds()+u),w(e)},[u,w]),x=(0,n.useCallback)(()=>{p?(d(i.getMillisecondsFromExpiry(a)),f(!0)):y()},[a,p,y]);return l(()=>{let e=i.getMillisecondsFromExpiry(a);d(e),e<=0?b():h&&e<h&&v(e)},m?h:null),(0,n.useEffect)(()=>{o.expiryTimestamp(a)},[a]),Object.assign(Object.assign({},i.getTimeFromMilliseconds(u)),{start:x,pause:S,resume:y,restart:w,isRunning:m})}function u({autoStart:e=!0,offsetTimestamp:t,interval:r=1e3}={}){let s=t?i.getMillisecondsFromExpiry(t):0,[a,o]=(0,n.useState)((new Date).getTime()-new Date(s).getTime()),[c,d]=(0,n.useState)(i.getMillisecondsFromPrevTime(a||0)),[m,f]=(0,n.useState)(e),p=1e3-c%1e3,[g,h]=(0,n.useState)(r<p?r:p);l(()=>{g!==r&&h(r),d(i.getMillisecondsFromPrevTime(a))},m?g:null);let v=(0,n.useCallback)(()=>{o((new Date).getTime()-new Date(c).getTime()),f(!0)},[c]),b=(0,n.useCallback)(()=>{m&&(d(i.getMillisecondsFromPrevTime(a)),f(!1))},[a,m]),S=(0,n.useCallback)((e,t=!0)=>{let s=e?i.getMillisecondsFromExpiry(e):0,a=(new Date).getTime()-new Date(s).getTime(),n=i.getMillisecondsFromPrevTime(a),l=1e3-n%1e3;o(a),d(n),h(r<l?r:l),f(t)},[r]);return Object.assign(Object.assign({},i.getTimeFromMilliseconds(c,!1)),{start:v,pause:b,reset:S,isRunning:m})}function d({format:e,interval:t=1e3}={}){let[r,s]=(0,n.useState)(i.getMillisecondsFromTimeNow());return l(()=>{s(i.getMillisecondsFromTimeNow())},t),Object.assign({},i.getFormattedTimeFromMilliseconds(r,e))}return s})()},3819:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FirebaseTest:()=>m,Redirect:()=>f,StopWatch:()=>g,Timer:()=>p});var s=r(5155),a=r(5695),n=r(2115),i=r(3248),o=r(3052),l=r(8402),c=r(1115),u=r(5203);async function d(e,t,r){let s=Date.now(),a={subjectId:e,createdAt:new Date(s).toISOString(),createdAtLocal:new Date(s).toLocaleString("sv"),page:r};200!=(await fetch("".concat("https://l4uv3wn4j1.execute-api.ca-central-1.amazonaws.com","/event"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(a)})).status&&console.log("Event API failed.")}function m(){let[e,t]=(0,n.useState)(123),{token:r}=u.e.useState(),a=(0,n.useContext)(l.Z);return(0,n.useEffect)(()=>{let e=(0,c.KR)(a,"".concat(r,"/test"));(0,c.Zy)(e,e=>{t(e.val())})},[a,r]),(0,s.jsxs)("div",{children:["Data: ",e]})}function f(e){let{keyPress:t,to:r}=e,{subjectId:i,lang:m,token:f}=u.e.useState(),p=(0,n.useContext)(l.Z),g=(0,a.useRouter)();async function h(){await d(i,f,r),(0,c.hZ)((0,c.KR)(p,"".concat(f,"/").concat(i,"/page")),"".concat(m,"/").concat(r)),g.push(r)}let v=(0,n.useRef)(null),b=(0,n.useRef)(null);return(0,n.useEffect)(()=>{t&&(v.current=Array.isArray(t)?t:[t],b.current=h)}),(0,n.useEffect)(()=>{if(v.current)return document.addEventListener("keyup",e),()=>{document.removeEventListener("keyup",e)};function e(e){v.current.includes(e.key)&&b.current(e)}},[]),(0,s.jsx)("div",{className:"absolute right-0 h-full w-[50px] grid place-content-center hover:bg-gray-200 z-10",onClick:h,children:(0,s.jsx)(o.A,{size:30})})}function p(e){let{duration:t,endText:r}=e,[a,o]=(0,n.useState)(!1),{totalSeconds:l,seconds:c}=(0,i.useTimer)({expiryTimestamp:new Date(Date.now()+1e3*t),onExpire:()=>o(!0)});return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)("div",{className:"w-full text-center",children:r}),!a&&(0,s.jsxs)("div",{className:"absolute bottom-2 right-4 z-20",children:[l,"s"]})]})}function g(){let{seconds:e,minutes:t,hours:r,start:a}=(0,i.useStopwatch)({autoStart:!1});return(0,n.useEffect)(()=>{a()},[]),(0,s.jsxs)("div",{className:"absolute top-2 right-2 text-2xl z-20",children:[r.toString().padStart(2,"0"),":",t.toString().padStart(2,"0"),":",e.toString().padStart(2,"0")]})}},4515:(e,t,r)=>{Promise.resolve().then(r.bind(r,3819))},5203:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var s=r(2421),a=r(5521),n=r(6786),i=r(1603);let o=()=>({subjectId:"",token:"",lang:"en",darkMode:!1}),l={_store:(0,s.y)((0,n.Zr)(o,{name:"main-store"})),clear(){this._store.setState(o(),!0)},setState(e){this._store.setState(e)},getState(){return this._store.getState()},useState(){return(0,a.P)(this._store,(0,i.k)(e=>({subjectId:e.subjectId,lang:e.lang,token:e.token,darkMode:e.darkMode})))}}},8402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d,FirebaseProvider:()=>f});var s=r(5155),a=r(5028),n=r(2115),i=r(5695),o=r(3915),l=r(1115);let c={apiKey:"AIzaSyBPfVnzuVG20F73tHLBQNmQ5Zbtz6d5SYU",authDomain:"qsb-project-df351.firebaseapp.com",projectId:"qsb-project-df351",storageBucket:"qsb-project-df351.firebasestorage.app",messagingSenderId:"338824344625",appId:"1:338824344625:web:06697bee836f15936bd110",measurementId:"G-NDWMLZVGLF",databaseURL:"https://qsb-project-df351-default-rtdb.firebaseio.com"};var u=r(5203);let d=(0,n.createContext)(null);function m(e){let{children:t}=e,r=(0,i.useSearchParams)().get("token"),[a]=n.useState(()=>{try{var e;if(!r&&!(null===(e=u.e.getState())||void 0===e?void 0:e.token))return null;r&&u.e.setState({token:r}),u.e.setState({subjectId:""});let t=(0,o.Wp)(c);return(0,l.C3)(t)}catch(e){console.error("FirebaseProvider Error: ".concat(e))}return null});return a?(0,s.jsx)(d.Provider,{value:a,children:t}):(0,s.jsx)("div",{children:"Error! Cannot to database."})}let f=(0,a.default)(()=>Promise.resolve(m),{ssr:!1})},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:m,...f}=e;return(0,s.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:i?24*Number(n)/Number(a):n,className:o("lucide",u),...!d&&!l(f)&&{"aria-hidden":"true"},...f},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:l,...c}=r;return(0,s.createElement)(u,{ref:n,iconNode:t,className:o("lucide-".concat(a(i(e))),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,645,441,684,358],()=>t(4515)),_N_E=e.O()}]);