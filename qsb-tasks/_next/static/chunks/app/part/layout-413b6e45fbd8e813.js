(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{5203:(e,t,r)=>{"use strict";r.d(t,{e:()=>l});var a=r(2421),s=r(5521),n=r(6786),o=r(1603);let c=()=>({subjectId:"",token:"",lang:"en",darkMode:!1}),l={_store:(0,a.y)((0,n.Zr)(c,{name:"main-store"})),clear(){this._store.setState(c(),!0)},setState(e){this._store.setState(e)},getState(){return this._store.getState()},useState(){return(0,s.P)(this._store,(0,o.k)(e=>({subjectId:e.subjectId,lang:e.lang,token:e.token,darkMode:e.darkMode})))}}},7684:(e,t,r)=>{Promise.resolve().then(r.bind(r,7695))},7695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(5203),n=r(5695),o=r(2115),c=r(6017),l=r(1115),d=r(8402);let u=(0,r(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var i=r(1362);function f(e){let{children:t}=e,r=(0,n.useSearchParams)().get("token"),[f]=(0,o.useState)(()=>{try{var e;if(!r&&!(null===(e=s.e.getState())||void 0===e?void 0:e.token))return null;if(r){let[e,t]=JSON.parse((0,c.D4)(r));s.e.setState({subjectId:e,token:t})}return!0}catch(e){console.error("Error: ".concat(e))}return null}),{token:h,subjectId:v}=s.e.useState(),b=(0,o.useContext)(d.Z),[p,S]=(0,o.useState)(!0),k=(0,n.useRouter)(),{setTheme:m}=(0,i.D)();return((0,o.useEffect)(()=>{f&&(console.log("useEffect ok",v,h),(0,l.Zy)((0,l.KR)(b,"".concat(h,"/").concat(v)),e=>{let{page:t,darkMode:r}=e.val();t&&(S(!1),m(r?"dark":"light"),k.push("/part/".concat(t)))}))},[f,b,h,v]),f)?p?(0,a.jsx)("div",{className:"grid w-screen h-screen place-content-center",children:(0,a.jsx)(u,{className:"animate-spin",size:30})}):(0,a.jsx)("div",{className:"w-screen h-screen relative flex justify-center",children:t}):(0,a.jsx)("div",{children:"Error! Not authorized."})}},8402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,FirebaseProvider:()=>h});var a=r(5155),s=r(5028),n=r(2115),o=r(5695),c=r(3915),l=r(1115);let d={apiKey:"AIzaSyBPfVnzuVG20F73tHLBQNmQ5Zbtz6d5SYU",authDomain:"qsb-project-df351.firebaseapp.com",projectId:"qsb-project-df351",storageBucket:"qsb-project-df351.firebasestorage.app",messagingSenderId:"338824344625",appId:"1:338824344625:web:06697bee836f15936bd110",measurementId:"G-NDWMLZVGLF",databaseURL:"https://qsb-project-df351-default-rtdb.firebaseio.com"};var u=r(5203);let i=(0,n.createContext)(null);function f(e){let{children:t}=e,r=(0,o.useSearchParams)().get("token"),[s]=n.useState(()=>{try{var e;if(!r&&!(null===(e=u.e.getState())||void 0===e?void 0:e.token))return null;r&&u.e.setState({token:r}),u.e.setState({subjectId:""});let t=(0,c.Wp)(d);return(0,l.C3)(t)}catch(e){console.error("FirebaseProvider Error: ".concat(e))}return null});return s?(0,a.jsx)(i.Provider,{value:s,children:t}):(0,a.jsx)("div",{children:"Error! Cannot to database."})}let h=(0,s.default)(()=>Promise.resolve(f),{ssr:!1})}},e=>{var t=t=>e(e.s=t);e.O(0,[507,645,741,441,684,358],()=>t(7684)),_N_E=e.O()}]);