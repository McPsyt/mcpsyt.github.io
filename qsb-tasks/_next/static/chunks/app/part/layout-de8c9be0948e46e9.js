(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{5203:(e,t,r)=>{"use strict";r.d(t,{e:()=>c});var a=r(2421),s=r(5521),n=r(6786),o=r(1603);let l=()=>({subjectId:"",token:"",lang:"en",darkMode:!1}),c={_store:(0,a.y)((0,n.Zr)(l,{name:"main-store"})),clear(){this._store.setState(l(),!0)},setState(e){this._store.setState(e)},getState(){return this._store.getState()},useState(){return(0,s.P)(this._store,(0,o.k)(e=>({subjectId:e.subjectId,lang:e.lang,token:e.token,darkMode:e.darkMode})))}}},7684:(e,t,r)=>{Promise.resolve().then(r.bind(r,7695))},7695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(5203),n=r(5695),o=r(2115),l=r(6017),c=r(1115),i=r(8402);let d=(0,r(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=r(1362);function h(e){let{children:t}=e,r=(0,n.useSearchParams)().get("token"),[h]=(0,o.useState)(()=>{try{var e;if(!r&&!(null===(e=s.e.getState())||void 0===e?void 0:e.token))return null;if(r){let[e,t]=JSON.parse((0,l.D4)(r));s.e.setState({subjectId:e,token:t})}return!0}catch(e){console.error("Error: ".concat(e))}return null}),{token:f,subjectId:p}=s.e.useState(),v=(0,o.useContext)(i.Z),[m,g]=(0,o.useState)(!0),k=(0,n.useRouter)(),{setTheme:b}=(0,u.D)();return((0,o.useEffect)(()=>{h&&(console.log("useEffect ok",p,f),(0,c.Zy)((0,c.KR)(v,"".concat(f,"/").concat(p,"/page")),e=>{let t=e.val();t&&k.push("/part/".concat(t))}),(0,c.Zy)((0,c.KR)(v,"".concat(f,"/").concat(p,"/darkMode")),e=>{b(e.val()?"dark":"light")}),(0,c.Zy)((0,c.KR)(v,"".concat(f,"/").concat(p,"/waiting")),e=>{g(e.val())}))},[h,v,f,p]),h)?m?(0,a.jsx)("div",{className:"grid w-screen h-screen place-content-center",children:(0,a.jsxs)("span",{className:"text-lg",children:["Please wait... ",(0,a.jsx)(d,{className:"animate-spin inline-block",size:30})]})}):(0,a.jsx)("div",{className:"w-screen h-screen relative flex justify-center",children:t}):(0,a.jsx)("div",{children:"Error! Not authorized."})}},8402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,FirebaseProvider:()=>f});var a=r(5155),s=r(5028),n=r(2115),o=r(5695),l=r(3915),c=r(1115);let i={apiKey:"AIzaSyBPfVnzuVG20F73tHLBQNmQ5Zbtz6d5SYU",authDomain:"qsb-project-df351.firebaseapp.com",projectId:"qsb-project-df351",storageBucket:"qsb-project-df351.firebasestorage.app",messagingSenderId:"338824344625",appId:"1:338824344625:web:06697bee836f15936bd110",measurementId:"G-NDWMLZVGLF",databaseURL:"https://qsb-project-df351-default-rtdb.firebaseio.com"};var d=r(5203);let u=(0,n.createContext)(null);function h(e){let{children:t}=e,r=(0,o.useSearchParams)().get("token"),[s]=n.useState(()=>{try{var e;if(!r&&!(null===(e=d.e.getState())||void 0===e?void 0:e.token))return null;r&&d.e.setState({token:r}),d.e.setState({subjectId:""});let t=(0,l.Wp)(i);return(0,c.C3)(t)}catch(e){console.error("FirebaseProvider Error: ".concat(e))}return null});return s?(0,a.jsx)(u.Provider,{value:s,children:t}):(0,a.jsx)("div",{children:"Error! Cannot to database."})}let f=(0,s.default)(()=>Promise.resolve(h),{ssr:!1})},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...f}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(n)/Number(s):n,className:l("lucide",d),...!u&&!c(f)&&{"aria-hidden":"true"},...f},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:c,...i}=r;return(0,a.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(s(o(e))),"lucide-".concat(e),c),...i})});return r.displayName=o(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,645,90,441,684,358],()=>t(7684)),_N_E=e.O()}]);