"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{3999:(e,t,a)=>{a.d(t,{cn:()=>r});var n=a(2596),s=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,n.$)(t))}},5203:(e,t,a)=>{a.d(t,{e:()=>c});var n=a(2421),s=a(5521),r=a(6786),i=a(1603);let o=()=>({subjectId:"",token:"",lang:"es",darkMode:!1,participantURL:""}),c={_store:(0,n.y)((0,r.Zr)(o,{name:"main-store"})),clear(){this._store.setState(o(),!0)},setState(e){this._store.setState(e)},getState(){return this._store.getState()},useState(){return(0,s.P)(this._store,(0,i.k)(e=>({subjectId:e.subjectId,lang:e.lang,token:e.token,darkMode:e.darkMode,participantURL:e.participantURL})))}}},7168:(e,t,a)=>{a.d(t,{$:()=>c});var n=a(5155);a(2115);var s=a(9708),r=a(2085),i=a(3999);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:r,asChild:c=!1,...l}=e,d=c?s.DX:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:r,className:t})),...l})}},8326:(e,t,a)=>{a.r(t),a.d(t,{CopyBtn:()=>F,FirebaseTest:()=>C,IntOnly:()=>I,MarkerModal:()=>A,Redirect:()=>P,StartSession:()=>E,StopWatch:()=>L,Timer:()=>Z,WaitBlock:()=>D});var n=a(5155),s=a(5695),r=a(2115),i=a(3248),o=a(2355),c=a(3052),l=a(1154),d=a(8402),u=a(1115),p=a(5203),g=a(7168),h=a(5196),x=a(2650),f=a(3999);async function m(e){navigator.clipboard.writeText(e)}function v(e){let{value:t,className:a,variant:s="ghost",...i}=e,[o,c]=r.useState(!1);return r.useEffect(()=>{setTimeout(()=>{c(!1)},2e3)},[o]),(0,n.jsxs)(g.$,{size:"icon",variant:s,className:(0,f.cn)("relative z-10 h-9 w-9 text-zinc-700 dark:text-white [&_svg]:h-8 [&_svg]:w-8",a),onClick:()=>{m(t),c(!0)},...i,children:[(0,n.jsx)("span",{className:"sr-only",children:"Copy"}),o?(0,n.jsx)(h.A,{}):(0,n.jsx)(x.A,{})]})}var b=a(2745),j=a(4416);function k(e){let{...t}=e;return(0,n.jsx)(b.bL,{"data-slot":"dialog",...t})}function y(e){let{...t}=e;return(0,n.jsx)(b.ZL,{"data-slot":"dialog-portal",...t})}function N(e){let{className:t,...a}=e;return(0,n.jsx)(b.hJ,{"data-slot":"dialog-overlay",className:(0,f.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function S(e){let{className:t,children:a,showCloseButton:s=!0,...r}=e;return(0,n.jsxs)(y,{"data-slot":"dialog-portal",children:[(0,n.jsx)(N,{}),(0,n.jsxs)(b.UC,{"data-slot":"dialog-content",className:(0,f.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...r,children:[a,s&&(0,n.jsxs)(b.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(j.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function w(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,f.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function z(e){let{className:t,...a}=e;return(0,n.jsx)(b.hE,{"data-slot":"dialog-title",className:(0,f.cn)("text-lg leading-none font-semibold",t),...a})}function C(){let[e,t]=(0,r.useState)(123),{token:a}=p.e.useState(),s=(0,r.useContext)(d.Z);return(0,r.useEffect)(()=>{let e=(0,u.KR)(s,"".concat(a,"/test")),n=(0,u.Zy)(e,e=>{t(e.val())});return()=>n()},[s,a]),(0,n.jsxs)("div",{children:["Data: ",e]})}function P(e){let{keyPress:t,to:a,back:i}=e,{subjectId:l,lang:g,token:h}=p.e.useState(),x=(0,r.useContext)(d.Z),f=(0,s.useRouter)();async function m(){(0,u.hZ)((0,u.KR)(x,"".concat(h,"/").concat(l,"/page")),"".concat(g,"/").concat(a)),f.replace(a)}return i?(0,n.jsx)("div",{className:"absolute left-0 h-full w-[50px] grid place-content-center hover:bg-gray-200 z-10",onClick:m,children:(0,n.jsx)(o.A,{size:30})}):(0,n.jsx)("div",{className:"absolute right-0 h-full w-[50px] grid place-content-center hover:bg-gray-200 z-10",onClick:m,children:(0,n.jsx)(c.A,{size:30})})}var _=function(e){return e[e.UNSAVED=0]="UNSAVED",e[e.SAVING=1]="SAVING",e[e.DONE=2]="DONE",e}(_||{});function E(){let{lang:e}=p.e.useState();return(0,s.usePathname)().startsWith("/part")?(0,n.jsx)("div",{className:"grid w-screen h-screen place-content-center",children:(0,n.jsxs)("span",{className:"text-lg",children:[{en:"Session will start soon...",fr:"La session va bient\xf4t commencer...",es:"La sesi\xf3n comenzar\xe1 pronto..."}[e],(0,n.jsx)(l.A,{className:"animate-spin inline-block",size:30})]})}):(0,n.jsx)("div",{className:"p-2 rounded flex flex-col items-center gap-8",children:(0,n.jsx)("div",{className:"font-bold text-2xl text-red-600 animate-pulse",children:"Please start the video recording for this meeting!"})})}function D(e){let{children:t,name:a,afterWait:i}=e,{lang:o}=p.e.useState(),c=(0,s.usePathname)(),{visited:h,markVisited:x}=function(e){let{subjectId:t,token:a}=p.e.useState(),n=(0,r.useContext)(d.Z),[s,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return;let s=(0,u.Zy)((0,u.KR)(n,"".concat(a,"/").concat(t,"/visitedPages/").concat(e)),e=>{i(e.val())});return()=>s()},[e]),{visited:s,markVisited:s=>{(0,u.hZ)((0,u.KR)(n,"".concat(a,"/").concat(t,"/visitedPages/").concat(e)),s)}}}(a);async function f(){x(!0)}return c.startsWith("/part")?h?(0,n.jsxs)(n.Fragment,{children:[t,i]}):(0,n.jsx)("div",{className:"grid w-screen h-screen place-content-center",children:(0,n.jsxs)("span",{className:"text-lg",children:[{en:"Please wait...",es:"Espere por favor..."}[o]," ",(0,n.jsx)(l.A,{className:"animate-spin inline-block",size:30})]})}):h?(0,n.jsxs)(n.Fragment,{children:[t,i]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-red-500 border-2 border-amber-400 p-2 rounded flex flex-col items-center bg-white mb-8",children:["Click the button below to show the page to the Participant:",(0,n.jsx)(g.$,{variant:"default",onClick:f,className:"w-fit",children:"Show Page"})]}),t]})}function A(e){let{name:t}=e,{subjectId:a,token:i}=p.e.useState(),[o,c]=(0,r.useState)(!0);async function l(){c(!1)}return(0,s.usePathname)().startsWith("/part")?null:(0,n.jsx)(k,{open:o,onOpenChange:c,children:(0,n.jsxs)(S,{className:"translate-y-[-150%]",showCloseButton:!1,onEscapeKeyDown:e=>e.preventDefault(),onPointerDownOutside:e=>e.preventDefault(),children:[(0,n.jsx)(w,{children:(0,n.jsxs)(z,{className:"text-center",children:["Is participant ready for ",t," ?"]})}),(0,n.jsxs)("div",{className:"flex gap-4 justify-around mt-4",children:[(0,n.jsx)(g.$,{type:"button",variant:"destructive",onClick:l,children:"Mark Timestamp"}),(0,n.jsx)(g.$,{type:"button",variant:"outline",onClick:()=>{c(!1)},children:"DO NOT Mark"})]})]})})}function I(e){let{children:t}=e;return(0,s.usePathname)().startsWith("/part")?null:t}function Z(e){let{duration:t,endText:a,textOnLeft:s=!1,animate:o=!0}=e,[c,l]=(0,r.useState)(!1),{totalSeconds:d,seconds:u}=(0,i.useTimer)({expiryTimestamp:new Date(Date.now()+1e3*t),onExpire:()=>l(!0)});return(0,n.jsxs)(n.Fragment,{children:[c&&(0,n.jsx)("div",{className:"".concat(s?"absolute top-1/2 left-[100px] inline-block max-w-[10em]":"w-full text-center"," text-red-600 ").concat(o?"animate-pulse":""),children:a}),!c&&(0,n.jsxs)("div",{className:"absolute bottom-2 right-4 z-20",children:[d,"s"]})]})}function L(){let{seconds:e,minutes:t,hours:a,start:s}=(0,i.useStopwatch)({autoStart:!1});return(0,r.useEffect)(()=>{s()},[]),(0,n.jsxs)("div",{className:"absolute top-2 right-2 text-2xl z-20",children:[a.toString().padStart(2,"0"),":",t.toString().padStart(2,"0"),":",e.toString().padStart(2,"0")]})}function F(){let{participantURL:e}=p.e.useState();return(0,n.jsx)(v,{value:e,variant:"outline",type:"button",className:"absolute top-4 left-8 text-2xl z-20"})}},8402:(e,t,a)=>{a.d(t,{Z:()=>l,FirebaseProvider:()=>u});var n=a(5155),s=a(5028),r=a(2115),i=a(3915),o=a(1115);let c={apiKey:"AIzaSyBPfVnzuVG20F73tHLBQNmQ5Zbtz6d5SYU",authDomain:"qsb-project-df351.firebaseapp.com",projectId:"qsb-project-df351",storageBucket:"qsb-project-df351.firebasestorage.app",messagingSenderId:"338824344625",appId:"1:338824344625:web:06697bee836f15936bd110",measurementId:"G-NDWMLZVGLF",databaseURL:"https://qsb-project-df351-default-rtdb.firebaseio.com"},l=(0,r.createContext)(null);function d(e){let{children:t}=e,[a]=r.useState(()=>{try{let e=(0,i.Wp)(c);return(0,o.C3)(e)}catch(e){console.error("FirebaseProvider Error: ".concat(e))}return null});return a?(0,n.jsx)(l.Provider,{value:a,children:t}):(0,n.jsx)("div",{children:"Error! Cannot to database."})}let u=(0,s.default)(()=>Promise.resolve(d),{ssr:!1})}}]);